@{
    ViewData["Title"] = "Home Page";
}

<div class="toast-header">
    Put on your big boy pants it's game time
</div>

@*<div class="text-center">
        <canvas width="1200" height="1200" id="canvas"></canvas>
    </div>*@

<div class="text-center">
    <script>

        var lastClicked;
        var grid = clickableGrid(25, 25, function (el, row, col, i) {
            console.log("You clicked on element:", el);
            console.log("You clicked on row:", row);
            console.log("You clicked on col:", col);
            console.log("You clicked on item #:", i);

            el.className = 'clicked';
            if (lastClicked) lastClicked.className = '';
            lastClicked = el;
        });

        document.body.appendChild(grid);

        function clickableGrid(rows, cols, callback) {
            var i = 0;
            var grid = document.createElement('table');
            grid.className = 'grid';
            for (var r = 0; r < rows; ++r) {
                var tr = grid.appendChild(document.createElement('tr'));
                for (var c = 0; c < cols; ++c) {
                    var cell = tr.appendChild(document.createElement('td'));
                    cell.innerHTML = ++i;
                    cell.addEventListener('click', (function (el, r, c, i) {
                        return function () {
                            callback(el, r, c, i);
                        }
                    })(cell, r, c, i), false);
                }
            }
            return grid;
        }
    </script>
</div>


<!--Script references. -->
<!--Reference the jQuery library. -->
<script src="Scripts/jquery-3.1.1.min.js"></script>
<!--Reference the SignalR library. -->
<script src="Scripts/jquery.signalR-2.2.1.min.js"></script>
<!--Reference the autogenerated SignalR hub script. -->
<script src="signalr/hubs"></script>
<!--Add script to update the page and send messages.-->
<script type="text/javascript">
    $(function ()
    {
        // Declare a proxy to reference the hub. 
        var board = $.connection.boardHub;

        // Create a function that the hub can call to broadcast messages.
        board.client.sendBoard = function(val)
        {

        };

        // Start the connection.
        $.connection.hub.start().done(function ()
        {
            $('#sendboard').click(function ()
            {
                // Call the Send method on the hub. 
                baord.server.sendBoard($('#displayname').val(), $('#board').val());
            });
        });
    });
</script>